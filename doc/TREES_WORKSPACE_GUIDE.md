# .trees å·¥ä½œåŒºå¹¶è¡Œå¼€å‘æŒ‡å—

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

è¿™ä¸ªæ–°çš„ `.trees` ç³»ç»Ÿé€šè¿‡**åˆ›å»ºç‹¬ç«‹çš„å·¥ä½œç›®å½•**æ¥å®ç°çœŸæ­£çš„åˆ†æ”¯éš”ç¦»ï¼Œè®©ä½ å¯ä»¥åœ¨ä¸åŒçš„ç»ˆç«¯çª—å£ä¸­åŒæ—¶å¼€å‘ä¸åŒåŠŸèƒ½ã€‚

### å·¥ä½œåŸç†

```
project-list/                    # ä¸»é¡¹ç›®ç›®å½•
â”œâ”€â”€ Sources/                     # ä¸»åˆ†æ”¯ä»£ç 
â”œâ”€â”€ Package.swift
â””â”€â”€ .trees/                      # åˆ†æ”¯å·¥ä½œåŒº
    â”œâ”€â”€ feature_A/               # åŠŸèƒ½Açš„å®Œæ•´é¡¹ç›®å‰¯æœ¬
    â”‚   â”œâ”€â”€ Sources/             # ç‹¬ç«‹çš„ä»£ç å‰¯æœ¬
    â”‚   â”œâ”€â”€ Package.swift
    â”‚   â””â”€â”€ .trees_branch        # åˆ†æ”¯æ ‡è¯†
    â””â”€â”€ feature_B/               # åŠŸèƒ½Bçš„å®Œæ•´é¡¹ç›®å‰¯æœ¬
        â”œâ”€â”€ Sources/
        â””â”€â”€ Package.swift
```

### ç»ˆç«¯æç¤ºç¬¦æ•ˆæœ

```bash
# ä¸»é¡¹ç›®ç›®å½•
douba â€¦/project-list   main âœ˜!?â‡¡   base   15:38  â¯

# è¿›å…¥ feature_A åˆ†æ”¯å
[feature_A] douba â€¦/project-list/.trees/feature_A   main âœ˜!?â‡¡   base   15:38  â¯
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. åŸºæœ¬å·¥ä½œæµç¨‹

```bash
# åˆ›å»ºæ–°çš„åˆ†æ”¯å·¥ä½œåŒº
./trees-workspace.sh create search_feature

# è¿›å…¥åˆ†æ”¯å·¥ä½œåŒºï¼ˆä¼šæ‰“å¼€æ–°çš„shellä¼šè¯ï¼‰
./trees-workspace.sh enter search_feature

# ç°åœ¨ä½ åœ¨ç‹¬ç«‹çš„å·¥ä½œç›®å½•ä¸­ï¼
# å¯ä»¥è‡ªç”±ä¿®æ”¹ä»£ç ï¼Œä¸ä¼šå½±å“ä¸»åˆ†æ”¯

# å®Œæˆå¼€å‘åï¼Œè¿”å›ä¸»ç›®å½•
./back-to-main.sh
# æˆ–è€…ç›´æ¥
exit
```

### 2. æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯å·¥ä½œåŒº

```bash
./trees-workspace.sh list
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
æ‰€æœ‰åˆ†æ”¯å·¥ä½œåŒº:

  * search_feature (å½“å‰åˆ†æ”¯)
    åˆ›å»ºæ—¶é—´: 2024-08-24T15:30:00+07:00
    å·¥ä½œç›®å½•: /Users/douba/Projects/project-list/.trees/search_feature
    ç£ç›˜å ç”¨: 45M

    ui_improvement  
    åˆ›å»ºæ—¶é—´: 2024-08-24T14:15:00+07:00
    å·¥ä½œç›®å½•: /Users/douba/Projects/project-list/.trees/ui_improvement
    ç£ç›˜å ç”¨: 43M
```

### 3. åŒæ­¥ä¸»åˆ†æ”¯æ›´æ–°

å½“ä¸»åˆ†æ”¯æœ‰æ›´æ–°æ—¶ï¼ŒåŒæ­¥åˆ°ä½ çš„åˆ†æ”¯å·¥ä½œåŒºï¼š

```bash
./trees-workspace.sh sync search_feature
```

### 4. åˆå¹¶åˆ†æ”¯æ›´æ”¹

å®Œæˆå¼€å‘åï¼Œå°†æ›´æ”¹åˆå¹¶å›ä¸»åˆ†æ”¯ï¼š

```bash
./trees-workspace.sh merge search_feature
```

## ğŸ“± å®æˆ˜æ¼”ç¤º

### åœºæ™¯ï¼šåŒæ—¶å¼€å‘æœç´¢åŠŸèƒ½å’ŒUIæ”¹è¿›

#### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸¤ä¸ªåˆ†æ”¯å·¥ä½œåŒº

```bash
# åˆ›å»ºæœç´¢åŠŸèƒ½åˆ†æ”¯
./trees-workspace.sh create search_feature

# åˆ›å»ºUIæ”¹è¿›åˆ†æ”¯  
./trees-workspace.sh create ui_improvement
```

#### ç¬¬äºŒæ­¥ï¼šå¼€å‘æœç´¢åŠŸèƒ½

**ç»ˆç«¯çª—å£1**ï¼š
```bash
# è¿›å…¥æœç´¢åŠŸèƒ½å·¥ä½œåŒº
./trees-workspace.sh enter search_feature

# ç°åœ¨æç¤ºç¬¦å˜ä¸ºï¼š
# [search_feature] douba â€¦/.trees/search_feature â¯

# å¼€å§‹å¼€å‘æœç´¢åŠŸèƒ½
nano Sources/ProjectManager/Views/SearchView.swift

# ç¼–è¯‘æµ‹è¯•
swift build

# æäº¤æ›´æ”¹
git add .
git commit -m "feat: æ·»åŠ æœç´¢åŠŸèƒ½"
```

#### ç¬¬ä¸‰æ­¥ï¼šåŒæ—¶å¼€å‘UIæ”¹è¿›

**æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£2**ï¼š
```bash
cd /Users/douba/Projects/project-list

# è¿›å…¥UIæ”¹è¿›å·¥ä½œåŒº
./trees-workspace.sh enter ui_improvement  

# ç°åœ¨æç¤ºç¬¦å˜ä¸ºï¼š
# [ui_improvement] douba â€¦/.trees/ui_improvement â¯

# å¼€å§‹UIæ”¹è¿›
nano Sources/ProjectManager/Theme/AppTheme.swift

# ç¼–è¯‘æµ‹è¯•
swift build

# æäº¤æ›´æ”¹
git add .
git commit -m "improve: ä¼˜åŒ–ç•Œé¢ä¸»é¢˜è‰²å½©"
```

#### ç¬¬å››æ­¥ï¼šåˆå¹¶æ›´æ”¹

**åœ¨ä¸»é¡¹ç›®ç›®å½•**ï¼š
```bash
# åˆå¹¶æœç´¢åŠŸèƒ½
./trees-workspace.sh merge search_feature

# æµ‹è¯•åˆå¹¶ç»“æœ
swift build

# åˆå¹¶UIæ”¹è¿›  
./trees-workspace.sh merge ui_improvement

# æœ€ç»ˆæµ‹è¯•
swift build

# æäº¤æœ€ç»ˆç‰ˆæœ¬
git add .
git commit -m "feat: åˆå¹¶æœç´¢åŠŸèƒ½å’ŒUIæ”¹è¿›"
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### åˆ†æ”¯ä¿¡æ¯ç®¡ç†

æ¯ä¸ªåˆ†æ”¯å·¥ä½œåŒºåŒ…å«ä¸€ä¸ª `.branch_info` æ–‡ä»¶ï¼š

```json
{
    "name": "search_feature",
    "created": "2024-08-24T15:30:00+07:00", 
    "description": "æ·»åŠ é¡¹ç›®æœç´¢åŠŸèƒ½",
    "parent": "/Users/douba/Projects/project-list",
    "last_sync": "2024-08-24T15:30:00+07:00"
}
```

### ä¾¿æ·è„šæœ¬

æ¯ä¸ªå·¥ä½œåŒºåŒ…å« `back-to-main.sh` è„šæœ¬ï¼š
```bash
# å¿«é€Ÿè¿”å›ä¸»é¡¹ç›®ç›®å½•
./back-to-main.sh
```

### è‡ªåŠ¨å¤‡ä»½

- **åŒæ­¥æ—¶**ï¼šåˆ›å»º `.sync_backup_<æ—¶é—´æˆ³>` å¤‡ä»½
- **åˆå¹¶æ—¶**ï¼šåˆ›å»º `.merge_backup_<æ—¶é—´æˆ³>` å¤‡ä»½

## âš¡ ä¼˜åŠ¿

### 1. çœŸæ­£çš„ä»£ç éš”ç¦»
- æ¯ä¸ªåˆ†æ”¯æœ‰å®Œæ•´çš„é¡¹ç›®å‰¯æœ¬
- ä¿®æ”¹äº’ä¸å¹²æ‰°
- å¯ä»¥åŒæ—¶ç¼–è¯‘ä¸åŒç‰ˆæœ¬

### 2. æ¸…æ™°çš„å·¥ä½œç¯å¢ƒ
- ç»ˆç«¯æç¤ºç¬¦æ˜¾ç¤ºå½“å‰åˆ†æ”¯
- ä¸€ç›®äº†ç„¶çŸ¥é“åœ¨å“ªä¸ªåŠŸèƒ½ä¸Šå·¥ä½œ

### 3. å®‰å…¨çš„å¼€å‘ç¯å¢ƒ
- è‡ªåŠ¨å¤‡ä»½æœºåˆ¶
- å¯ä»¥éšæ—¶æ¢å¤

### 4. çµæ´»çš„å·¥ä½œæ–¹å¼
- å¯ä»¥åœ¨å¤šä¸ªç»ˆç«¯çª—å£åŒæ—¶å·¥ä½œ
- å¿«é€Ÿåˆ‡æ¢ä¸åŒåŠŸèƒ½å¼€å‘

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç£ç›˜ç©ºé—´
- æ¯ä¸ªåˆ†æ”¯å·¥ä½œåŒºçº¦å ç”¨ 40-50MB
- å»ºè®®åŠæ—¶åˆ é™¤ä¸éœ€è¦çš„åˆ†æ”¯

### åŒæ­¥ç­–ç•¥
- å®šæœŸåŒæ­¥ä¸»åˆ†æ”¯æ›´æ–°
- é¿å…åˆ†æ”¯è¿‡åº¦åç¦»ä¸»åˆ†æ”¯

### Git ç®¡ç†
- åœ¨å„è‡ªå·¥ä½œåŒºå†…æ­£å¸¸ä½¿ç”¨ Git
- åˆå¹¶æ—¶éœ€è¦å¤„ç†å¯èƒ½çš„å†²çª

## ğŸ›  å‘½ä»¤å‚è€ƒ

```bash
# åˆ›å»ºåˆ†æ”¯å·¥ä½œåŒº
./trees-workspace.sh create <åˆ†æ”¯å>

# è¿›å…¥åˆ†æ”¯å·¥ä½œåŒº  
./trees-workspace.sh enter <åˆ†æ”¯å>

# åˆ—å‡ºæ‰€æœ‰å·¥ä½œåŒº
./trees-workspace.sh list

# æ˜¾ç¤ºçŠ¶æ€
./trees-workspace.sh status  

# åŒæ­¥ä¸»åˆ†æ”¯åˆ°åˆ†æ”¯
./trees-workspace.sh sync <åˆ†æ”¯å>

# åˆå¹¶åˆ†æ”¯åˆ°ä¸»åˆ†æ”¯
./trees-workspace.sh merge <åˆ†æ”¯å>

# åˆ é™¤åˆ†æ”¯å·¥ä½œåŒº
./trees-workspace.sh delete <åˆ†æ”¯å>

# æ˜¾ç¤ºå¸®åŠ©
./trees-workspace.sh help
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **å‘½åè§„èŒƒ**ï¼šä½¿ç”¨æè¿°æ€§åˆ†æ”¯åï¼ˆå¦‚ `add_search`ã€`fix_tag_bug`ï¼‰
2. **å®šæœŸåŒæ­¥**ï¼šæ¯å¤©å¼€å§‹å·¥ä½œå‰åŒæ­¥ä¸»åˆ†æ”¯æ›´æ–°
3. **å°æ­¥æäº¤**ï¼šåœ¨å·¥ä½œåŒºå†…é¢‘ç¹æäº¤ï¼Œä¾¿äºè¿½è¸ªè¿›åº¦
4. **åŠæ—¶æ¸…ç†**ï¼šå®ŒæˆåŠŸèƒ½ååŠæ—¶åˆ é™¤å·¥ä½œåŒº
5. **å¤‡ä»½é‡è¦**ï¼šé‡è¦æ›´æ”¹å‰æ‰‹åŠ¨åˆ›å»ºå¤‡ä»½

ç°åœ¨ä½ å¯ä»¥çœŸæ­£å®ç°å¹¶è¡Œå¼€å‘äº†ï¼ğŸ‰