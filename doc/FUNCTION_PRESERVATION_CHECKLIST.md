# 功能保护检查清单

## 🔒 核心功能必须100%保留

### 主界面功能
- [ ] 应用启动正常，主窗口显示
- [ ] 三栏布局：侧边栏 + 主内容 + 详情面板
- [ ] 窗口大小调整功能
- [ ] 主题切换功能
- [ ] 状态栏信息显示

### 项目管理功能
- [ ] 项目自动发现和扫描
- [ ] 项目列表显示（网格/列表视图）
- [ ] 项目卡片信息显示：
  - [ ] 项目名称
  - [ ] 项目路径
  - [ ] 项目类型图标
  - [ ] Git信息（分支、提交状态）
  - [ ] 最后修改时间
  - [ ] 项目标签显示
- [ ] 项目排序功能（名称、时间、类型、路径）
- [ ] 项目搜索功能
- [ ] 项目选择和高亮

### 标签系统功能
- [ ] 标签添加（拖拽、右键菜单、快捷键）
- [ ] 标签删除
- [ ] 标签编辑（重命名）
- [ ] 标签颜色管理
- [ ] 标签筛选功能
- [ ] 标签统计显示
- [ ] 标签持久化到macOS文件系统
- [ ] 系统标签同步（英文↔中文）
- [ ] 批量标签操作

### 项目操作功能
- [ ] 右键上下文菜单：
  - [ ] 在编辑器中打开
  - [ ] 在Finder中显示
  - [ ] 复制项目路径
  - [ ] 添加标签
  - [ ] 移除标签
  - [ ] 删除项目
- [ ] 双击打开项目
- [ ] 拖拽操作支持
- [ ] 键盘快捷键支持

### 编辑器集成功能
- [ ] 多编辑器支持：
  - [ ] Cursor
  - [ ] VSCode
  - [ ] Trae AI
  - [ ] 其他编辑器
- [ ] 编辑器自动检测
- [ ] 编辑器偏好设置
- [ ] 编辑器启动失败处理
- [ ] 命令行工具检测

### 目录监控功能
- [ ] 监控目录添加/删除
- [ ] 实时文件系统变化检测
- [ ] 项目增量更新
- [ ] 监控目录列表显示
- [ ] 监控状态指示

### 搜索和过滤功能
- [ ] 全局搜索框
- [ ] 实时搜索结果更新
- [ ] 搜索历史
- [ ] 按标签筛选
- [ ] 按项目类型筛选
- [ ] 搜索结果高亮
- [ ] 搜索结果计数显示

### 侧边栏功能
- [ ] 导航菜单显示
- [ ] 标签列表显示
- [ ] 标签使用统计
- [ ] 监控目录列表
- [ ] 折叠/展开功能
- [ ] 拖拽排序（如果支持）

### 设置界面功能
- [ ] 设置窗口打开
- [ ] 通用设置：
  - [ ] 默认编辑器选择
  - [ ] 启动行为设置
  - [ ] 缓存设置
- [ ] 外观设置：
  - [ ] 主题选择
  - [ ] 字体大小调整
  - [ ] 界面缩放
- [ ] 高级设置：
  - [ ] 监控间隔设置
  - [ ] 缓存清理
  - [ ] 调试选项
- [ ] 设置保存和恢复

### 数据持久化功能
- [ ] 项目缓存保存/加载
- [ ] 用户偏好设置保存
- [ ] 窗口状态记忆
- [ ] 标签数据持久化
- [ ] 监控目录配置保存
- [ ] 搜索历史保存

### 性能特性
- [ ] 应用启动速度
- [ ] 项目加载性能
- [ ] 搜索响应速度
- [ ] 标签操作响应时间
- [ ] 界面切换流畅度
- [ ] 内存使用合理

### 键盘快捷键
- [ ] Cmd+R：刷新项目列表
- [ ] Cmd+F：聚焦搜索框
- [ ] Cmd+,：打开设置
- [ ] Cmd+N：添加监控目录
- [ ] Cmd+Enter：打开选中项目
- [ ] Cmd+Delete：删除选中项目
- [ ] 方向键：项目导航
- [ ] 其他自定义快捷键

### 可访问性功能
- [ ] VoiceOver支持
- [ ] 键盘完整导航
- [ ] 高对比度支持
- [ ] 动态字体支持
- [ ] 减少动画支持

### 错误处理和用户体验
- [ ] 权限错误提示
- [ ] 网络错误处理
- [ ] 文件系统错误处理
- [ ] 用户友好的错误消息
- [ ] 操作确认对话框
- [ ] 进度指示器
- [ ] 加载状态显示

## 🧪 验证流程

### 每次重构后执行的完整测试

#### 1. 启动测试
1. 启动应用
2. 验证主界面正常显示
3. 检查所有UI元素就位

#### 2. 基础功能测试
1. 添加一个监控目录
2. 验证项目自动发现
3. 检查项目信息显示正确

#### 3. 标签功能测试
1. 为项目添加标签
2. 编辑标签名称
3. 删除标签
4. 验证标签筛选功能
5. 确认标签持久化

#### 4. 搜索功能测试
1. 使用搜索框搜索项目
2. 验证搜索结果正确
3. 测试筛选功能

#### 5. 编辑器集成测试
1. 尝试在不同编辑器中打开项目
2. 验证编辑器检测功能
3. 测试备用编辑器机制

#### 6. 设置功能测试
1. 打开设置界面
2. 修改各种设置选项
3. 验证设置保存和生效

#### 7. 数据持久化测试
1. 重启应用
2. 验证所有数据正确恢复
3. 确认用户设置保持

### 回归测试重点

#### 关键用户操作路径
1. **新用户首次使用**：添加目录 → 发现项目 → 添加标签 → 打开项目
2. **日常使用**：启动应用 → 搜索项目 → 使用标签筛选 → 打开项目
3. **标签管理**：添加标签 → 编辑标签 → 删除标签 → 批量操作
4. **设置调整**：更换编辑器 → 调整主题 → 修改监控设置

#### 边界条件测试
- 空项目列表
- 大量项目（1000+）
- 长文件名/路径
- 特殊字符处理
- 网络驱动器项目
- 权限受限目录

## 🚨 破坏性变更检测

### 自动检测指标
- UI元素缺失或位置改变
- 功能响应时间显著变化
- 错误率增加
- 内存使用大幅增长
- 数据丢失或损坏

### 手动检查要点
- 用户工作流程是否流畅
- 视觉外观是否一致
- 交互反馈是否及时
- 错误处理是否友好

---

**检查原则**: 如果用户感觉到任何不同，就是重构失败！